<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>前端组件开发规范</title>
        <link rel="stylesheet" href="./static/tomorrow.css">
        <link rel="stylesheet" href="./static/doc.css">
        <script src="//unpkg.com/vue@2.3.3"></script>
        <style>
.rule-1 .rule-demo .box {
  display: inline-block;
  margin: 0;
  width: 40px;
  height: 40px;
  border: 1px solid #228ae6;
  background: #4dadf7;
}
.rule-1 .rule-demo .box {
  margin-right: 10px;
}
.rule-2 .box {
  display: inline-block;
  margin: 0;
  width: 40px;
  height: 40px;
  border: 10px solid transparent;
  background: #4dadf7;
}
.rule-2 .box:hover {
  background: #228ae6;
}
.rule-2 .box {
  margin-right: 10px;
}
.rule-3 .rule-demo .box {
  display: inline-block;
  margin: 0;
  width: 50px;
  height: 50px;
  padding: 10px;
  vertical-align: middle;
  text-align: center;
  border: 1px solid #228ae6;
  background: #4dadf7;
  box-sizing: border-box;
}
.rule-3 .rule-demo .box {
  width: 200px;
  height: 200px;
}
.r5-button {
  display: inline-block;
  margin: 0;
  padding: 9px 0;
  width: 80px;
  height: 40px;
  line-height: 20px;
  font-size: 14px;
  vertical-align: middle;
  text-align: center;
  color: #c92a2a;
  cursor: pointer;
  border: 1px solid currentColor;
  background: transparent;
  box-sizing: border-box;
}
.r5-button svg {
  color: inherit;
  fill: currentColor;
  width: 16px;
  height: 16px;
  display: inline-block;
  vertical-align: -3px;
}
.rule-5 .r5-button {
  color: #4dadf7;
}
.rule-5 .r5-button:hover {
  color: #228ae6;
}
.r6-input {
  display: inline-block;
  margin: 0;
  padding-left: 40px;
  width: 400px;
  height: 40px;
  line-height: 40px;
  vertical-align: middle;
  text-align: center;
  color: #495057;
  border: 2px solid currentColor;
  background: #FFF;
  box-sizing: border-box;
}
.r6-input svg {
  margin: 8px 0 0 -30px;
  float: left;
  width: 20px;
  height: 20px;
  fill: currentColor;
  color: inherit;
}
.r6-input__txt {
  display: block;
  width: 100%;
  height: 100%;
  padding: 0;
  border: 0;
  font-size: 20px;
  color: inherit;
  outline: none;
}
.rule-6 .r6-input {
  width: 300px;
}
</style>
    </head>
    <body class="page-rules">
        
        <div class="main">
            <div class="header">
                <h1>前端组件开发规范</h1>
                <div class="header-info">这篇文档总结了我们在开发组件库VHTML时候的一些心得体会，整理出了一个我们理想中的Best Practise。希望会对你的组件库开发有一定帮助。</div>
            </div><div class="module"><h2 id="">样式篇</h2>
<h3 id="-2">所见即所得</h3>
<div class="rule rule-1">
                        <div class="rule-right">
                        <div class="rule-txt"><p>一般情况下，<strong>组件所能看到的大小即是它的真实大小</strong>。尽量不要在组件上使用看不见的边界，例如在外部加入<code>margin</code>样式。</p>
<p>这样做的好处是：从设计师的角度出发去设计你的代码，设计师给到的标注稿的间距标注一般不会考虑组件外部的透明边界。而组件的使用者（其他开发同学）可能不知道这样的边界的存在，就会造成一些返工。</p>
<p>所以为了提高组件的易用性，一般推荐组件所能看到的大小即是它的真实大小。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="undefined">
.rule-1 {
    // 组件样式
    .rule-demo .box {
        display: inline-block;
        margin: 0;
        width: 40px;
        height: 40px;
        border: 1px solid #228ae6;
        background: #4dadf7;
    }

    // 使用组件时候的样式
    .rule-demo .box {
        margin-right: 10px;
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
                        
        <script>
(function () {
    var DemoComponent = Vue.extend(function () {
        var Template = function () {
            var options = {
                render: function () {
                    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;
                    return _c('div', {
                        staticClass: "component"
                    }, [[_c('span', {
                        staticClass: "box"
                    }), _vm._v(" "), _c('span', {
                        staticClass: "box"
                    }), _vm._v(" "), _c('span', {
                        staticClass: "box"
                    })]], 2);
                },
                staticRenderFns: []
            };return options;
        }();
        var Component = function () {
            return {};
        }();
        Component.render = Template.render;
        Component.staticRenderFns = Template.staticRenderFns;
        return Component;
    }());
    var scripts = document.getElementsByTagName('script');
    var script = scripts[scripts.length - 1];
    var ruleDemo = document.createElement('div');
    ruleDemo.className = 'rule-demo';
    var div = document.createElement('div');
    ruleDemo.appendChild(div);
    var textDiv = script.parentNode.previousElementSibling;
    console.log();
    textDiv.insertBefore(ruleDemo, textDiv.firstChild);
    new DemoComponent().$mount(div);
})();</script>
    
                
</div></div></div>
<div class="rule rule-2">
                        <div class="rule-right">
                        <div class="rule-txt"><p>当然也会存在一些例外情况，比如说组件的鼠标响应区域比组件的实际展示区域要大。</p>
<p>这时候我们推荐和设计师做好充分地沟通，确认设计稿中的标注要考虑到这些隐藏边界，或者设计师根本不关心这些隐藏边界导致的几像素偏差。以简化组件使用者在使用此组件时候的难度。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="undefined">
.rule-2 {
    // 组件样式
    .box {
        display: inline-block;
        margin: 0;
        width: 40px;
        height: 40px;
        border: 10px solid transparent;
        background: #4dadf7;
    }
    .box:hover {
        background: #228ae6;
    }
    // 使用组件时候的样式
    .box {
        margin-right: 10px;
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
                        
        <script>
(function () {
    var DemoComponent = Vue.extend(function () {
        var Template = function () {
            var options = {
                render: function () {
                    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;
                    return _c('div', {
                        staticClass: "component"
                    }, [[_c('span', {
                        staticClass: "box"
                    }), _vm._v(" "), _c('span', {
                        staticClass: "box"
                    }), _vm._v(" "), _c('span', {
                        staticClass: "box"
                    })]], 2);
                },
                staticRenderFns: []
            };return options;
        }();
        var Component = function () {
            return {};
        }();
        Component.render = Template.render;
        Component.staticRenderFns = Template.staticRenderFns;
        return Component;
    }());
    var scripts = document.getElementsByTagName('script');
    var script = scripts[scripts.length - 1];
    var ruleDemo = document.createElement('div');
    ruleDemo.className = 'rule-demo';
    var div = document.createElement('div');
    ruleDemo.appendChild(div);
    var textDiv = script.parentNode.previousElementSibling;
    console.log();
    textDiv.insertBefore(ruleDemo, textDiv.firstChild);
    new DemoComponent().$mount(div);
})();</script>
    
                
</div></div></div>
<h3 id="box-sizing">使用<code>box-sizing</code></h3>
<div class="rule rule-3">
                        <div class="rule-right">
                        <div class="rule-txt"><p>组件的根节点样式优先使用<code>box-sizing:border-box;</code>，这样在组件外部就可以轻松控制组件的宽高。不需要考虑根节点的<code>border</code>和<code>padding</code>值。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>200x200<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="undefined">
.rule-3 {
    // 组件样式
    .rule-demo .box {
        display: inline-block;
        margin: 0;
        width: 50px;
        height: 50px;
        padding: 10px;
        vertical-align: middle;
        text-align: center;
        border: 1px solid #228ae6;
        background: #4dadf7;
        box-sizing: border-box;
    }

    // 使用组件时候的样式
    .rule-demo .box {
        width: 200px;
        height: 200px;
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
                        
        <script>
(function () {
    var DemoComponent = Vue.extend(function () {
        var Template = function () {
            var options = {
                render: function () {
                    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;
                    return _c('div', {
                        staticClass: "component"
                    }, [[_c('span', {
                        staticClass: "box"
                    }, [_vm._v("200x200")])]], 2);
                },
                staticRenderFns: []
            };return options;
        }();
        var Component = function () {
            return {};
        }();
        Component.render = Template.render;
        Component.staticRenderFns = Template.staticRenderFns;
        return Component;
    }());
    var scripts = document.getElementsByTagName('script');
    var script = scripts[scripts.length - 1];
    var ruleDemo = document.createElement('div');
    ruleDemo.className = 'rule-demo';
    var div = document.createElement('div');
    ruleDemo.appendChild(div);
    var textDiv = script.parentNode.previousElementSibling;
    console.log();
    textDiv.insertBefore(ruleDemo, textDiv.firstChild);
    new DemoComponent().$mount(div);
})();</script>
    
                
</div></div></div>
<h3 id="css">避免CSS类选择器冲突</h3>
<div class="rule rule-4">
                        <div class="rule-right">
                        <div class="rule-txt"><p>为了避免组件之间或组件与使用页面之间的CLASS类冲突，导致CSS样式的冲突。推荐使用<a href="http://getbem.com/naming/">BEM</a>、<a href="https://suitcss.github.io/">SUIT</a>、<a href="https://smacss.com/">SMACSS</a>之类的CLASS命名规范。当然也可以自己规范一套命名规范。</p>
<p>使用BEM或SUIT规范时，推荐使用<a href="https://github.com/kezzbracey/postcss-bem">postcss-bem</a>插件。它提供了@规则，可以简化CSS代码书写。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-comment">// BEM规范</span>
<span class="hljs-variable">@component-namespace</span> v {
    <span class="hljs-variable">@b</span> input {
        <span class="hljs-comment">// TODO</span>
        <span class="hljs-variable">@m</span> search {
            <span class="hljs-comment">// TODO</span>
        }
        <span class="hljs-variable">@e</span> placeholder {
            <span class="hljs-comment">// TODO</span>
        }
    }
}

<span class="hljs-comment">// 自定义规范</span>
.input {
    <span class="hljs-comment">// TODO</span>
}
.input-search {
    <span class="hljs-comment">// TODO</span>
}
.input-placeholder {
    <span class="hljs-comment">// TODO</span>
}

</code></pre>
                        
                
</div></div></div>
<h3 id="currentcolorcolorinherit">使用<code>currentColor</code>和<code>color:inherit</code></h3>
<div class="rule rule-5">
                        <div class="rule-right">
                        <div class="rule-txt"><p>如果组件颜色较为单一，可以使用<code>currentColor</code>来设置颜色。这样在组件外部就可以通过设置根节点的<code>color</code>属性来轻松控制组件的颜色。</p>
<p>如果需要设置颜色的节点不是根节点，还可以和<code>color:inherit</code>配合使用，继承根节点的<code>color</code>值。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"r5-button"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Layer_1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">xmlns:xlink</span>=<span class="hljs-string">"http://www.w3.org/1999/xlink"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"0px"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"0px"</span>
        <span class="hljs-attr">width</span>=<span class="hljs-string">"24px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"24px"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"enable-background:new 0 0 24 24;"</span> <span class="hljs-attr">xml:space</span>=<span class="hljs-string">"preserve"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">g</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M12,0C5.373,0,0,5.373,0,12s5.373,12,12,12s12-5.373,12-12S18.627,0,12,0z M12,22
                C6.477,22,2,17.521,2,12C2,6.477,6.477,2,12,2c5.523,0,10,4.478,10,10C22,17.521,17.523,22,12,22z"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M12.5,6h-1C11.224,6,11,6.224,11,6.5v7c0,0.275,0.224,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5v-7
                C13,6.224,12.775,6,12.5,6z"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M12.5,16h-1c-0.276,0-0.5,0.225-0.5,0.5v1c0,0.275,0.224,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5
                v-1C13,16.225,12.775,16,12.5,16z"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">g</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
        按钮
    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="undefined">
// 组件样式
@component-namespace r5 {
    @b button {
        display: inline-block;
        margin: 0;
        padding: 9px 0;
        width: 80px;
        height: 40px;
        line-height: 20px;
        font-size: 14px;
        vertical-align: middle;
        text-align: center;
        color: #c92a2a;
        cursor: pointer;
        border: 1px solid currentColor;
        background: transparent;
        box-sizing: border-box;

        svg {
            color: inherit;
            fill: currentColor;
            width: 16px;
            height: 16px;
            display: inline-block;
            vertical-align: -3px;
        }
    }
}

.rule-5 {
    // 使用组件时候的样式
    .r5-button {
        color: #4dadf7;

        &amp;:hover {
            color: #228ae6;
        }
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
                        
        <script>
(function () {
    var DemoComponent = Vue.extend(function () {
        var Template = function () {
            var options = {
                render: function () {
                    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;
                    return _c('div', {
                        staticClass: "component"
                    }, [[_c('span', {
                        staticClass: "r5-button"
                    }, [_c('svg', {
                        staticStyle: {
                            "enable-background": "new 0 0 24 24"
                        },
                        attrs: {
                            "version": "1.1",
                            "id": "Layer_1",
                            "xmlns": "http://www.w3.org/2000/svg",
                            "xmlns:xlink": "http://www.w3.org/1999/xlink",
                            "x": "0px",
                            "y": "0px",
                            "width": "24px",
                            "height": "24px",
                            "viewBox": "0 0 24 24",
                            "xml:space": "preserve"
                        }
                    }, [_c('g', [_c('path', {
                        attrs: {
                            "d": "M12,0C5.373,0,0,5.373,0,12s5.373,12,12,12s12-5.373,12-12S18.627,0,12,0z M12,22\n                C6.477,22,2,17.521,2,12C2,6.477,6.477,2,12,2c5.523,0,10,4.478,10,10C22,17.521,17.523,22,12,22z"
                        }
                    }), _vm._v(" "), _c('path', {
                        attrs: {
                            "d": "M12.5,6h-1C11.224,6,11,6.224,11,6.5v7c0,0.275,0.224,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5v-7\n                C13,6.224,12.775,6,12.5,6z"
                        }
                    }), _vm._v(" "), _c('path', {
                        attrs: {
                            "d": "M12.5,16h-1c-0.276,0-0.5,0.225-0.5,0.5v1c0,0.275,0.224,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5\n                v-1C13,16.225,12.775,16,12.5,16z"
                        }
                    })])]), _vm._v("\n        按钮\n    ")])]], 2);
                },
                staticRenderFns: []
            };return options;
        }();
        var Component = function () {
            return {};
        }();
        Component.render = Template.render;
        Component.staticRenderFns = Template.staticRenderFns;
        return Component;
    }());
    var scripts = document.getElementsByTagName('script');
    var script = scripts[scripts.length - 1];
    var ruleDemo = document.createElement('div');
    ruleDemo.className = 'rule-demo';
    var div = document.createElement('div');
    ruleDemo.appendChild(div);
    var textDiv = script.parentNode.previousElementSibling;
    console.log();
    textDiv.insertBefore(ruleDemo, textDiv.firstChild);
    new DemoComponent().$mount(div);
})();</script>
    
                
</div></div></div>
<h3 id="-3">组件尽量自适应高宽</h3>
<div class="rule rule-6">
                        <div class="rule-right">
                        <div class="rule-txt"><p>组件的高宽很可能会被修改，此时如果组件内部是自适应变化的，那么就可以大大提高组件的易用性。组件的使用者在外部只需要通过CSS的<code>width</code>和<code>height</code>就可以方便的修改组件的高宽，通常会配合<code>box-sizing:border-box</code>一起使用。</p>
<p>在开发组件时一定要把高宽变化的情况考虑在内，尽量做到组件内部自适应高宽。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"r6-input"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"0px"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"0px"</span>
        <span class="hljs-attr">width</span>=<span class="hljs-string">"20px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"20px"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 20 20"</span> <span class="hljs-attr">xml:space</span>=<span class="hljs-string">"preserve"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"fill-rule:evenodd;clip-rule:evenodd;"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M17.696,16.227l-2.531-2.532c2.5-2.748,2.431-6.999-0.223-9.653
        c-2.734-2.733-7.166-2.733-9.899,0c-2.734,2.734-2.734,7.166,0,9.9c2.306,2.306,5.819,2.659,8.503,1.073l2.681,2.682
        c0.406,0.406,1.063,0.406,1.469,0S18.102,16.633,17.696,16.227z M6.457,12.527c-1.953-1.952-1.953-5.118,0-7.071
        s5.118-1.953,7.071,0c1.952,1.953,1.952,5.119,0,7.071C11.575,14.48,8.409,14.48,6.457,12.527z"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"r6-input__txt"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="undefined">
// 组件样式
@component-namespace r6 {
    @b input {
        display: inline-block;
        margin: 0;
        padding-left: 40px;
        width: 400px;
        height: 40px;
        line-height: 40px;
        vertical-align: middle;
        text-align: center;
        color: #495057;
        border: 2px solid currentColor;
        background: #FFF;
        box-sizing: border-box;

        svg {
            margin: 8px 0 0 -30px;
            float: left;
            width: 20px;
            height: 20px;
            fill: currentColor;
            color: inherit;
        }

        @e txt {
            display: block;
            width: 100%;
            height: 100%;
            padding: 0;
            border: 0;
            font-size: 20px;
            color: inherit;
            outline: none;
        }
    }
}

.rule-6 {
    // 使用组件时候的样式
    .r6-input {
        width: 300px;
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
                        
        <script>
(function () {
    var DemoComponent = Vue.extend(function () {
        var Template = function () {
            var options = {
                render: function () {
                    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;
                    return _c('div', {
                        staticClass: "component"
                    }, [[_c('span', {
                        staticClass: "r6-input"
                    }, [_c('svg', {
                        attrs: {
                            "version": "1.1",
                            "x": "0px",
                            "y": "0px",
                            "width": "20px",
                            "height": "20px",
                            "viewBox": "0 0 20 20",
                            "xml:space": "preserve"
                        }
                    }, [_c('path', {
                        staticStyle: {
                            "fill-rule": "evenodd",
                            "clip-rule": "evenodd"
                        },
                        attrs: {
                            "d": "M17.696,16.227l-2.531-2.532c2.5-2.748,2.431-6.999-0.223-9.653\n        c-2.734-2.733-7.166-2.733-9.899,0c-2.734,2.734-2.734,7.166,0,9.9c2.306,2.306,5.819,2.659,8.503,1.073l2.681,2.682\n        c0.406,0.406,1.063,0.406,1.469,0S18.102,16.633,17.696,16.227z M6.457,12.527c-1.953-1.952-1.953-5.118,0-7.071\n        s5.118-1.953,7.071,0c1.952,1.953,1.952,5.119,0,7.071C11.575,14.48,8.409,14.48,6.457,12.527z"
                        }
                    })]), _vm._v(" "), _c('input', {
                        staticClass: "r6-input__txt"
                    })])]], 2);
                },
                staticRenderFns: []
            };return options;
        }();
        var Component = function () {
            return {};
        }();
        Component.render = Template.render;
        Component.staticRenderFns = Template.staticRenderFns;
        return Component;
    }());
    var scripts = document.getElementsByTagName('script');
    var script = scripts[scripts.length - 1];
    var ruleDemo = document.createElement('div');
    ruleDemo.className = 'rule-demo';
    var div = document.createElement('div');
    ruleDemo.appendChild(div);
    var textDiv = script.parentNode.previousElementSibling;
    console.log();
    textDiv.insertBefore(ruleDemo, textDiv.firstChild);
    new DemoComponent().$mount(div);
})();</script>
    
                
</div></div></div>
<h3 id="css-rest">单个组件内CSS REST</h3>
<div class="rule rule-7">
                        <div class="rule-right">
                        <div class="rule-txt"><p>为了确保<strong>组件在各个页面下最终呈现的样子是一致的</strong>，需要对组件内CSS进行一定程度上的样式重置。</p>
<p>我们推荐的为根节点添加<code>display</code>样式，以确保其样式的稳定性。对于块级组件<code>display</code>值是<code>block</code>；对于行内组件值是<code>inline-block</code>；对于占位类型的组件值是<code>inline</code>；所谓的占位类型，就是其本身不提供任何样式，只是留一个标签在那里做占位。</p>
<p>CSS RESET可以参考右边例子。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-selector-class">.reset</span> {
    <span class="hljs-attribute">display</span>: inline-block;      <span class="hljs-comment">// 或者 block，特殊情况下用inline</span>
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">box-sizing</span>: border-box;     <span class="hljs-comment">// IE8+以后支持，在有`border`的时候外部可以更轻松的控制组件宽高</span>
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;            <span class="hljs-comment">//</span>
    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;          <span class="hljs-comment">//</span>
    <span class="hljs-attribute">outline</span>: <span class="hljs-number">0</span>;                 <span class="hljs-comment">// 不适用浏览器默认focus状态，可以自定义</span>

    <span class="hljs-comment">// 重置组件内部的常用标签</span>
    <span class="hljs-selector-tag">div</span>, <span class="hljs-selector-tag">span</span>, <span class="hljs-selector-tag">object</span>, <span class="hljs-selector-tag">iframe</span>, <span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-tag">h2</span>, <span class="hljs-selector-tag">h3</span>, <span class="hljs-selector-tag">h4</span>, <span class="hljs-selector-tag">h5</span>, <span class="hljs-selector-tag">h6</span>, <span class="hljs-selector-tag">p</span>,
    <span class="hljs-selector-tag">pre</span>, <span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">abbr</span>, <span class="hljs-selector-tag">address</span>, <span class="hljs-selector-tag">code</span>, <span class="hljs-selector-tag">del</span>, <span class="hljs-selector-tag">dfn</span>, <span class="hljs-selector-tag">em</span>, <span class="hljs-selector-tag">img</span>,
    <span class="hljs-selector-tag">dl</span>, <span class="hljs-selector-tag">dt</span>, <span class="hljs-selector-tag">dd</span>, <span class="hljs-selector-tag">ol</span>, <span class="hljs-selector-tag">ul</span>, <span class="hljs-selector-tag">li</span>, <span class="hljs-selector-tag">fieldset</span>, <span class="hljs-selector-tag">form</span>, <span class="hljs-selector-tag">label</span>,
    <span class="hljs-selector-tag">legend</span>, <span class="hljs-selector-tag">caption</span>, <span class="hljs-selector-tag">tbody</span>, <span class="hljs-selector-tag">tfoot</span>, <span class="hljs-selector-tag">thead</span>, <span class="hljs-selector-tag">tr</span>,
    <span class="hljs-comment">// html5 标签</span>
    <span class="hljs-selector-tag">article</span>, <span class="hljs-selector-tag">aside</span>, <span class="hljs-selector-tag">details</span>, <span class="hljs-selector-tag">figcaption</span>,
    <span class="hljs-selector-tag">figure</span>, <span class="hljs-selector-tag">footer</span>, <span class="hljs-selector-tag">header</span>, <span class="hljs-selector-tag">hgroup</span>, <span class="hljs-selector-tag">menu</span>, <span class="hljs-selector-tag">nav</span>,
    <span class="hljs-selector-tag">section</span>, <span class="hljs-selector-tag">summary</span>, <span class="hljs-selector-tag">main</span> {
        <span class="hljs-comment">// 盒模型重置</span>
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">box-sizing</span>: content-box;
        <span class="hljs-comment">// focus状态</span>
        <span class="hljs-attribute">outline</span>: <span class="hljs-number">0</span>;
        <span class="hljs-comment">// 文本</span>
        <span class="hljs-attribute">font-weight</span>: inherit;
        <span class="hljs-attribute">font-style</span>: inherit;
        <span class="hljs-attribute">font-family</span>: inherit;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">color</span>: inherit;
        <span class="hljs-attribute">vertical-align</span>: baseline;
    }

    <span class="hljs-comment">// 设置成块级标签</span>
    <span class="hljs-selector-tag">div</span>, <span class="hljs-selector-tag">p</span>, <span class="hljs-selector-tag">pre</span>,
    <span class="hljs-selector-tag">iframe</span>, <span class="hljs-selector-tag">audio</span>, <span class="hljs-selector-tag">canvas</span>, <span class="hljs-selector-tag">video</span>,   <span class="hljs-comment">// 本来不是块级元素，但大都作为块级元素使用</span>
    <span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-tag">h2</span>, <span class="hljs-selector-tag">h3</span>, <span class="hljs-selector-tag">h4</span>, <span class="hljs-selector-tag">h5</span>, <span class="hljs-selector-tag">h6</span>,
    <span class="hljs-selector-tag">dl</span>, <span class="hljs-selector-tag">dt</span>, <span class="hljs-selector-tag">dd</span>, <span class="hljs-selector-tag">ol</span>, <span class="hljs-selector-tag">ul</span>, <span class="hljs-selector-tag">li</span>,
    <span class="hljs-selector-tag">fieldset</span>, <span class="hljs-selector-tag">form</span>, <span class="hljs-selector-tag">legend</span>,
    <span class="hljs-comment">// html5 标签</span>
    <span class="hljs-selector-tag">article</span>, <span class="hljs-selector-tag">aside</span>, <span class="hljs-selector-tag">details</span>, <span class="hljs-selector-tag">figcaption</span>,
    <span class="hljs-selector-tag">figure</span>, <span class="hljs-selector-tag">footer</span>, <span class="hljs-selector-tag">header</span>, <span class="hljs-selector-tag">hgroup</span>, <span class="hljs-selector-tag">menu</span>, <span class="hljs-selector-tag">nav</span>,
    <span class="hljs-selector-tag">section</span>, <span class="hljs-selector-tag">summary</span>, <span class="hljs-selector-tag">main</span> {
        <span class="hljs-attribute">display</span>: block;
        <span class="hljs-attribute">line-height</span>: inherit;
    }
    <span class="hljs-selector-tag">ol</span>, <span class="hljs-selector-tag">ul</span> {
        <span class="hljs-attribute">list-style</span>: none;
    }
    <span class="hljs-selector-tag">table</span> {
        <span class="hljs-attribute">border-collapse</span>: separate;
        <span class="hljs-attribute">border-spacing</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">vertical-align</span>: middle;
    }
    <span class="hljs-selector-tag">caption</span>, <span class="hljs-selector-tag">th</span>, <span class="hljs-selector-tag">td</span> {
        <span class="hljs-attribute">text-align</span>: inherit;
        <span class="hljs-attribute">font-weight</span>: inherit;
        <span class="hljs-attribute">vertical-align</span>: middle;
    }

    <span class="hljs-comment">// 行内元素</span>
    <span class="hljs-selector-tag">span</span>, <span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">label</span>,
    <span class="hljs-selector-tag">abbr</span>, <span class="hljs-selector-tag">address</span>, <span class="hljs-selector-tag">code</span>, <span class="hljs-selector-tag">del</span>, <span class="hljs-selector-tag">dfn</span>, <span class="hljs-selector-tag">em</span> {
        <span class="hljs-attribute">display</span>: inline;
    }
    <span class="hljs-selector-tag">img</span>, <span class="hljs-selector-tag">object</span>, <span class="hljs-selector-tag">audio</span>, <span class="hljs-selector-tag">canvas</span>, <span class="hljs-selector-tag">video</span> {
        <span class="hljs-attribute">display</span>: inline-block;
    }
}
</code></pre>
                        
                
</div></div></div>
</div><div class="module"><h2 id="javascript">Javascript篇</h2>
<h3 id="constlet">使用<code>const</code>和<code>let</code></h3>
<div class="rule rule-8">
                        <div class="rule-right">
                        <div class="rule-txt"><p>ES6 现在支持了<code>const</code>和<code>let</code>关键字，相比<code>var</code>它们支持了块级作用域。并且<code>const</code>用于常量的声明，<code>let</code>用于变量的声明。它们本身有更加明确的用途，对代码的可读性也有一定的提高。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-comment">// 错误例子1</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getValueByCode</span>(<span class="hljs-params">code</span>) </span>{
    <span class="hljs-keyword">var</span> VALUE_MAP = {
        <span class="hljs-number">200</span>: <span class="hljs-string">'success'</span>,
        <span class="hljs-number">300</span>: <span class="hljs-string">'REDIRECT'</span>,
        <span class="hljs-number">400</span>: <span class="hljs-string">'CLIENT ERROR'</span>,
        <span class="hljs-number">500</span>: <span class="hljs-string">'SERVER ERROR'</span>
    };
    <span class="hljs-keyword">return</span> VALUE_MAP[code];
}
<span class="hljs-comment">// 正确例子1</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getValueByCode</span>(<span class="hljs-params">code</span>) </span>{
    <span class="hljs-keyword">const</span> VALUE_MAP = {
        <span class="hljs-number">200</span>: <span class="hljs-string">'success'</span>,
        <span class="hljs-number">300</span>: <span class="hljs-string">'REDIRECT'</span>,
        <span class="hljs-number">400</span>: <span class="hljs-string">'CLIENT ERROR'</span>,
        <span class="hljs-number">500</span>: <span class="hljs-string">'SERVER ERROR'</span>
    };
    <span class="hljs-keyword">return</span> VALUE_MAP[code];
}


<span class="hljs-comment">// 错误例子2</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAncestor</span>(<span class="hljs-params">component, ancestorName</span>) </span>{
    <span class="hljs-keyword">var</span> parent = component.$parent;
    <span class="hljs-keyword">while</span> (parent.$options.name !== ancestorName) {
        parent = parent.$parent;
    }
    <span class="hljs-keyword">return</span> parent;
}
<span class="hljs-comment">// 正确例子2</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAncestor</span>(<span class="hljs-params">component, ancestorName</span>) </span>{
    <span class="hljs-keyword">let</span> parent = component.$parent;
    <span class="hljs-keyword">while</span> (parent.$options.name !== ancestorName) {
        parent = parent.$parent;
    }
    <span class="hljs-keyword">return</span> parent;
}
</code></pre>
                        
                
</div></div></div>
<h3 id="else">减少使用<code>else</code>关键字</h3>
<div class="rule rule-9">
                        <div class="rule-right">
                        <div class="rule-txt"><p>我们在编写javascript代码时，会经常用到<code>if else</code>来处理分支逻辑。当分支逻辑只有两层时，这不是什么问题。但当分支逻辑越来越多时，就会出现很多层的<code>if else</code>嵌套。这会大大降低代码的可读性。</p>
<p>推荐按照如下规则来尽量减少<code>else</code>关键字的使用：</p>
<ul>
<li>如果代码逻辑有两个以上的分支
<ul>
<li>如果代码逻辑简单只是返回对应值的匹配值，则推荐使用字典对象；</li>
<li>如果只有一条分支逻辑负责其余都很简单，则推荐使用<code>if return</code>；</li>
<li>如果有两条以上分支逻辑复杂，推荐使用<code>switch</code>关键字（如果分支逻辑非常复杂推荐）；</li>
</ul>
</li>
<li>如果代码逻辑只有两个分支
<ul>
<li>如果分支逻辑简单，则优先尝试使用条件运算符；</li>
<li>如果分支逻辑复杂，则推荐使用<code>if return</code>；</li>
</ul>
</li>
</ul>
<p>PS：在代码逻辑只有两个分支并且使用<code>if return</code>时，推荐把简单的分支逻辑立即先<code>return</code>掉。把复杂的逻辑放在后面，这样复杂逻辑的缩进会少。代码的可读性会进一步提高。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-comment">// 错误样例1：两个分支，且逻辑简单</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasValue</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">if</span> (value &amp;&amp; (value.length != <span class="hljs-literal">null</span>)) {
        <span class="hljs-keyword">return</span> !!value.length;
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> !!value;
    }
}
<span class="hljs-comment">// 正确样例1：使用条件运算符</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasValue</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-comment">// 增加一个有意义的变量名，提高代码可读性</span>
    <span class="hljs-keyword">const</span> isStringOrArray = value &amp;&amp; (value.length != <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">return</span> !!(isStringOrArray ? value.length : value);
}


<span class="hljs-comment">// 错误样例2：两个以上分支，且逻辑简单</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getType</span>(<span class="hljs-params">code</span>) </span>{
    <span class="hljs-keyword">if</span> (code === <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'success'</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">2</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'client error'</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">3</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'server error'</span>;
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">'unknown error'</span>;
    }
}
<span class="hljs-comment">// 正确样例2</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getType</span>(<span class="hljs-params">code</span>) </span>{
    <span class="hljs-comment">// 此样例中也可以使用数组来做map，不过对象支持更普遍一些</span>
    <span class="hljs-keyword">const</span> CODE_MAP = {
        <span class="hljs-number">1</span>: <span class="hljs-string">'success'</span>,
        <span class="hljs-number">2</span>: <span class="hljs-string">'client error'</span>,
        <span class="hljs-number">3</span>: <span class="hljs-string">'server error'</span>
    };
    <span class="hljs-keyword">return</span> CODE_MAP[code] || <span class="hljs-string">'unknown error'</span>;
}


<span class="hljs-comment">// 错误样例3：两个分支，且只有一个分支逻辑复杂</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getConfig</span>(<span class="hljs-params">id, callback</span>) </span>{
    <span class="hljs-keyword">if</span> (id != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">const</span> params = {
            <span class="hljs-comment">// TODO calculate params</span>
        };
        $.post(<span class="hljs-string">'/config'</span>, params, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
            <span class="hljs-keyword">if</span> (data.success) {
                callback(data.data);
            }
            <span class="hljs-keyword">else</span> {
                callback(<span class="hljs-literal">null</span>);
            }
        });
    }
    <span class="hljs-keyword">else</span> {
        callback(<span class="hljs-literal">null</span>);
    }
}
<span class="hljs-comment">// 正确样例3</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getConfig</span>(<span class="hljs-params">id, callback</span>) </span>{
    <span class="hljs-keyword">if</span> (id == <span class="hljs-literal">null</span>) {
        callback(<span class="hljs-literal">null</span>);
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">const</span> params = {
        <span class="hljs-comment">// TODO calculate params</span>
    };
    $.post(<span class="hljs-string">'/config'</span>, params, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
        callback(data.success ? data.data : <span class="hljs-literal">null</span>);
    });
}


<span class="hljs-comment">// 错误样例4：两个以上分支，且有多个分支逻辑复杂</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calc</span>(<span class="hljs-params">position, relative</span>) </span>{
    <span class="hljs-keyword">if</span> (position === <span class="hljs-string">'top'</span> || position === <span class="hljs-string">'bottom'</span>) {
        calcVertical(relative);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (position === <span class="hljs-string">'left'</span> || position === <span class="hljs-string">'right'</span>) {
        calcHorizontal(relative);
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// TODO</span>
    }
}
<span class="hljs-comment">// 正确样例4</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calc</span>(<span class="hljs-params">position, relative</span>) </span>{
    <span class="hljs-keyword">switch</span> (position) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'top'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'bottom'</span>:
            calcVertical(relative);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'left'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'right'</span>:
            calcHorizontal(relative);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
            <span class="hljs-comment">// TODO</span>
            <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
                        
                
</div></div></div>
<h3 id="mapfilterreducefor">使用<code>map/filter/reduce</code>替代<code>for</code>循环</h3>
<div class="rule rule-10">
                        <div class="rule-right">
                        <div class="rule-txt"><p>在ES5之前，我们操作Javascript数组的常用方式是使用<code>for</code>循环。这是一种传统且非常高效的做法。在ES5之后，Javascript的数组引入了很多的原生方法，例如<code>Array.prototype.forEach</code>方法。这些特性的支持程度可以看<a href="http://kangax.github.io/compat-table/es5/">这个表</a>。</p>
<p>于是大家开始争论使用<code>for</code>循环还是<code>forEach</code>方法，甚至有人做了<a href="https://jsperf.com/for-vs-foreach/75">性能对比</a>。<code>for</code>循环的优势在于：性能好，并且能够通过<code>break</code>关键字快速退出。 <code>forEach</code>方法的优势在于：可读性高，易于使用（天然带有闭包）。</p>
<p>这里要说的不是<code>for</code>循环 VS <code>forEach</code>方法，而是<code>for</code>循环 VS <code>map/filter/reduce</code>方法。通过下面这张图你可以清楚地知道它们的作用。</p>
<p><a href="https://twitter.com/apasella/status/741168882958880768"><img src="./static/map_filter_reduce.png" alt=""></a></p>
<p>虽然<code>for</code>循环有着更好的性能，但是只要不是超大型数组，性能优势并不明显。相反<code>map/filter/reduce</code>方法却可以大大提高代码的可读性，所以更推荐使用他们。</p>
</div><div class="rule-code"><pre class="hljs"><code><span class="hljs-comment">// 错误例子1</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getValues</span>(<span class="hljs-params">opts</span>) </span>{
    <span class="hljs-keyword">const</span> values = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; opts.length; i++) {
        values.push(opts[i].value);
    }
    <span class="hljs-keyword">return</span> values;
}
<span class="hljs-comment">// 正确例子1</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getValues</span>(<span class="hljs-params">opts</span>) </span>{
    <span class="hljs-keyword">return</span> opts.map(<span class="hljs-function">(<span class="hljs-params">opt</span>) =&gt;</span> opt.value);
}


<span class="hljs-comment">// 错误例子2</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSelectedOptions</span>(<span class="hljs-params">opts</span>) </span>{
    <span class="hljs-keyword">const</span> selectedOpts = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; opts.length; i++) {
        <span class="hljs-keyword">if</span> (opts[i].selected) {
            selectedOpts.push(opts[i]);
        }
    }
    <span class="hljs-keyword">return</span> selectedOpts;
}
<span class="hljs-comment">// 正确例子2</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSelectedOptions</span>(<span class="hljs-params">opts</span>) </span>{
    <span class="hljs-keyword">return</span> opts.filter(<span class="hljs-function">(<span class="hljs-params">opt</span>) =&gt;</span> opt.selected);
}


<span class="hljs-comment">// 错误例子3</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sumSelectedValue</span>(<span class="hljs-params">opts</span>) </span>{
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; opts.length; i++) {
        <span class="hljs-keyword">if</span> (opts[i].selected) {
            sum += opts[i].value;
        }
    }
    <span class="hljs-keyword">return</span> sum;
}
<span class="hljs-comment">// 正确例子3</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sumSelectedValue</span>(<span class="hljs-params">opts</span>) </span>{
    <span class="hljs-keyword">return</span> opts
        .filter(<span class="hljs-function">(<span class="hljs-params">opt</span>) =&gt;</span> opt.selected)
        .reduce(<span class="hljs-function">(<span class="hljs-params">result, opt</span>) =&gt;</span> result + opt.value, <span class="hljs-number">0</span>);
}
</code></pre>
                        
                
</div></div></div>
</div><div class="module"><h2 id="vue">Vue篇</h2>
</div>
        </div>
        <script src="./static/doc.js"></script>
    </body>
    </html>